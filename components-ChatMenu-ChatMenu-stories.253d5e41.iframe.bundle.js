"use strict";(self.webpackChunkkim_aide=self.webpackChunkkim_aide||[]).push([[335],{"./src/components/ChatMenu/ChatMenu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ChatMenu_stories});var react=__webpack_require__("./node_modules/react/index.js");let ChatMenu_ChatBtn=__webpack_require__("./src/components/ChatMenu/ChatBtn/ChatBtn.tsx").A,ChatMenu_ChatSidebar=__webpack_require__("./src/components/ChatMenu/ChatSidebar/ChatSidebar.tsx").A;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let ChatMenu_stories={title:"components/ChatMenu",component:()=>{let[isChatOpen,setIsChatOpen]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ChatMenu_ChatBtn,{notificationCount:0,maxDisplayNotificationCount:99,onClick:()=>{setIsChatOpen(prev=>!prev)}}),(0,jsx_runtime.jsx)(ChatMenu_ChatSidebar,{top:"60px",height:"calc(100vh - 120px)",onSendMessage:currentMessage=>{alert('onSendMessage() 함수가 실행되었습니다. 전송할 내용은 아래와 같습니다.\n\n"'.concat(currentMessage,'"\n\n * 이 메시지는 storybook에서만 사용할 테스트 alert입니다. 실제로 사용할 때에는 적절한 함수를 삽입해 주시기 바랍니다.'))},messageInfos:[],open:isChatOpen})]})},parameters:{docs:{description:{component:"`ChatMenu`는 채팅창 사이드 바(`ChatSidebar`)와 채팅창을 열고 닫을 수 있는 채팅 버튼(`ChatBtn`)을 통틀어 묶은 컴포넌트입니다.\n- 채팅이 포함되어 있는 예시를 보시고자 한다면, `ChatSidebar` 스토리북 페이지를 열람해 주십시오."}}}},Default={decorators:[Story=>(0,jsx_runtime.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,jsx_runtime.jsx)(Story,{})})],args:{}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  decorators: [Story => <div style={{\n    width: '100%',\n    height: '100vh'\n  }}>\n                <Story />\n            </div>],\n  args: {}\n}",...Default.parameters?.docs?.source}}};let __namedExportsOrder=["Default"]},"./src/components/ChatMenu/ChatBtn/ChatBtn.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ChatBtn_ChatBtn}),__webpack_require__("./node_modules/react/index.js");var _templateObject,_templateObject2,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");let Container=emotion_styled_browser_esm.A.button(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n	position: relative;\n	width: 40px;\n	height: 40px;\n	background: none;\n\n	& > svg {\n		width: 100%;\n		height: 100%;\n		color: ",";\n		transition: color 0.2s;\n	}\n\n	&:hover > svg {\n		color: ",";\n	}\n"])),_ref=>{let{theme}=_ref;return theme.colors.WHITE},_ref2=>{let{theme}=_ref2;return theme.colors.LIGHT_GRAY}),NotificationCircle=emotion_styled_browser_esm.A.span(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n	position: absolute;\n	right: 0;\n	bottom: 0;\n	display: inline-block;\n	min-width: 16px;\n	height: 16px;\n	border-radius: 7px;\n	background-color: ",";\n	font-weight: 700;\n	font-size: 12px;\n	line-height: 16px;\n"])),_ref3=>{let{theme}=_ref3;return theme.colors.TOMATO});var svg=__webpack_require__("./src/assets/svg/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let ChatBtn=_ref=>{let{notificationCount,maxDisplayNotificationCount,onClick}=_ref,notificationDisplayText=notificationCount>maxDisplayNotificationCount?"".concat(maxDisplayNotificationCount,"+"):String(notificationCount),ariaLabel=notificationCount>0?"채팅방 열기. 확인하지 않은 ".concat(notificationCount,"개의 채팅이 있습니다."):"채팅방 열기";return(0,jsx_runtime.jsxs)(Container,{type:"button","aria-label":ariaLabel,onClick:onClick,children:[(0,jsx_runtime.jsx)(svg.yw,{}),notificationCount>0&&(0,jsx_runtime.jsx)(NotificationCircle,{children:notificationDisplayText})]})},ChatBtn_ChatBtn=ChatBtn;try{ChatBtn.displayName="ChatBtn",ChatBtn.__docgenInfo={description:"",displayName:"ChatBtn",props:{notificationCount:{defaultValue:null,description:"",name:"notificationCount",required:!0,type:{name:"number"}},maxDisplayNotificationCount:{defaultValue:null,description:"",name:"maxDisplayNotificationCount",required:!0,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatMenu/ChatBtn/ChatBtn.tsx#ChatBtn"]={docgenInfo:ChatBtn.__docgenInfo,name:"ChatBtn",path:"src/components/ChatMenu/ChatBtn/ChatBtn.tsx#ChatBtn"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChatMenu/ChatSidebar/ChatMessage/ChatMessage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ChatMessage_ChatMessage}),__webpack_require__("./node_modules/react/index.js");var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");let Container=emotion_styled_browser_esm.A.li(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n	display: flex;\n	column-gap: 6px;\n	width: 100%;\n	height: auto;\n"]))),AvatarWrapper=emotion_styled_browser_esm.A.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n	flex-shrink: 0;\n	width: 30px;\n"]))),Avatar=emotion_styled_browser_esm.A.img(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n	width: 30px;\n	height: 30px;\n	border-radius: 15px;\n	object-fit: cover;\n"]))),ContentContainer=emotion_styled_browser_esm.A.div(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.A)(["\n	display: flex;\n	flex-grow: 1;\n	flex-direction: column;\n	row-gap: 6px;\n	min-width: 0;\n"]))),Header=emotion_styled_browser_esm.A.header(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.A)(["\n	display: flex;\n	align-items: flex-end;\n	column-gap: 6px;\n	max-width: 100%;\n"]))),Nickname=emotion_styled_browser_esm.A.div(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.A)(["\n	overflow: hidden;\n	font-weight: 700;\n	font-size: 16px;\n	color: ",";\n	white-space: nowrap;\n	text-overflow: ellipsis;\n"])),_ref=>{let{theme}=_ref;return theme.colors.WHITE}),Timestamp=emotion_styled_browser_esm.A.div(_templateObject7||(_templateObject7=(0,taggedTemplateLiteral.A)(["\n	height: 12px;\n	font-size: 12px;\n	line-height: 12px;\n	color: ",";\n"])),_ref2=>{let{theme}=_ref2;return theme.colors.LIGHT_GRAY}),Message=emotion_styled_browser_esm.A.p(_templateObject8||(_templateObject8=(0,taggedTemplateLiteral.A)(["\n	font-size: 14px;\n	color: ",";\n	word-break: break-all;\n"])),_ref3=>{let{theme}=_ref3;return theme.colors.WHITE});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let ChatMessage=_ref=>{let{avatar,nickname,createdAt,message}=_ref,timeString=createdAt.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"});return(0,jsx_runtime.jsxs)(Container,{children:[(0,jsx_runtime.jsx)(AvatarWrapper,{children:(0,jsx_runtime.jsx)(Avatar,{src:avatar,alt:"".concat(nickname,"님의 프로필 사진")})}),(0,jsx_runtime.jsxs)(ContentContainer,{children:[(0,jsx_runtime.jsxs)(Header,{children:[(0,jsx_runtime.jsx)(Nickname,{children:nickname}),(0,jsx_runtime.jsx)(Timestamp,{children:timeString})]}),(0,jsx_runtime.jsx)(Message,{children:message})]})]})},ChatMessage_ChatMessage=ChatMessage;try{ChatMessage.displayName="ChatMessage",ChatMessage.__docgenInfo={description:"",displayName:"ChatMessage",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string"}},createdAt:{defaultValue:null,description:"",name:"createdAt",required:!0,type:{name:"Date"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatMenu/ChatSidebar/ChatMessage/ChatMessage.tsx#ChatMessage"]={docgenInfo:ChatMessage.__docgenInfo,name:"ChatMessage",path:"src/components/ChatMenu/ChatSidebar/ChatMessage/ChatMessage.tsx#ChatMessage"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChatMenu/ChatSidebar/ChatSidebar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ChatSidebar_ChatSidebar});var _templateObject,_templateObject2,_templateObject3,_templateObject4,react=__webpack_require__("./node_modules/react/index.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");let Container=emotion_styled_browser_esm.A.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n	display: flex;\n	flex-direction: column;\n	row-gap: 12px;\n	position: fixed;\n	top: ",";\n	right: -20px;\n	width: 290px;\n	height: ",";\n	padding: 8px;\n	border-width: 2px 0 2px 2px;\n	border-style: solid;\n	border-color: ",";\n	border-radius: 12px 0 0 12px;\n	box-shadow: 0 0 12px ",";\n	background-color: ",";\n	transition: transform 0.25s;\n	transform: ",";\n"])),_ref=>{let{$top}=_ref;return $top},_ref2=>{let{$height}=_ref2;return $height},_ref3=>{let{theme}=_ref3;return theme.colors.WHITE},_ref4=>{let{theme}=_ref4;return theme.colors.WHITE_TRANSPARENT},_ref5=>{let{theme}=_ref5;return theme.colors.DARK_GRAY},_ref6=>{let{$isOpen}=_ref6;return $isOpen?"translateX(0)":"translateX(100%)"}),ChatMessagesContainer=emotion_styled_browser_esm.A.ul(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n	display: flex;\n	overflow: auto;\n	flex-direction: column;\n	flex-grow: 1;\n	row-gap: 15px;\n	padding: 8px;\n"]))),InputPanel=emotion_styled_browser_esm.A.form(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n	display: flex;\n	align-items: flex-end;\n	flex-shrink: 0;\n	column-gap: 6px;\n"]))),TextAreaInput=emotion_styled_browser_esm.A.textarea(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.A)(["\n	flex-grow: 1;\n	height: 28px;\n	min-height: 28px;\n	max-height: 100px;\n	padding: 4px;\n	border: 2px solid ",";\n	border-radius: 6px;\n	box-shadow: 0 0 6px ",";\n	background: none;\n	color: ",";\n	resize: none;\n	outline-width: 4px;\n	transition: outline-width 0.1s;\n\n	&:not(:disabled):focus,\n	&:not(:disabled):active {\n		border-color: ",";\n		outline: 3px solid ",";\n	}\n\n	&:disabled {\n		cursor: not-allowed;\n	}\n"])),_ref7=>{let{theme}=_ref7;return theme.colors.WHITE},_ref8=>{let{theme}=_ref8;return theme.colors.WHITE_TRANSPARENT},_ref9=>{let{theme}=_ref9;return theme.colors.WHITE},_ref10=>{let{theme}=_ref10;return theme.colors.WHITE},_ref11=>{let{theme}=_ref11;return theme.colors.WHITE_TRANSPARENT}),ChatSidebar_ChatMessage=__webpack_require__("./src/components/ChatMenu/ChatSidebar/ChatMessage/ChatMessage.tsx").A,common_IconBtn=__webpack_require__("./src/components/common/IconBtn/IconBtn.tsx").A;var svg=__webpack_require__("./src/assets/svg/index.ts");let hooks_useChatSidebar=_ref=>{let{onSendMessage}=_ref,[currentMessage,setCurrentMessage]=(0,react.useState)(""),chatMessagesContainerRef=(0,react.useRef)(null),textAreaRef=(0,react.useRef)(null);return(0,react.useEffect)(()=>{let chatMessagesContainerElement=chatMessagesContainerRef.current;chatMessagesContainerElement&&(chatMessagesContainerElement.scrollTop=chatMessagesContainerRef.current.scrollHeight)},[]),{currentMessage,chatMessagesContainerRef,textAreaRef,handleCurrentMessageChange:event=>{setCurrentMessage(event.target.value),textAreaRef.current&&(textAreaRef.current.style.height="0",textAreaRef.current.style.overflow="hidden",textAreaRef.current.style.height="".concat(textAreaRef.current.scrollHeight+3,"px"),textAreaRef.current.style.overflow="auto")},handleEnterKeyDown:event=>{"Enter"===event.key&&!event.shiftKey&&(event.preventDefault(),""!==currentMessage.trim()&&onSendMessage(currentMessage))},handleSendMessage:()=>{""!==currentMessage.trim()&&onSendMessage(currentMessage)}}};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let ChatSidebar=_ref=>{let{open,top,height,messageInfos,onSendMessage}=_ref,{currentMessage,chatMessagesContainerRef,textAreaRef,handleCurrentMessageChange,handleEnterKeyDown,handleSendMessage}=hooks_useChatSidebar({onSendMessage});return(0,jsx_runtime.jsxs)(Container,{$top:top,$height:height,$isOpen:open,children:[(0,jsx_runtime.jsx)(ChatMessagesContainer,{ref:chatMessagesContainerRef,children:messageInfos.map(messageInfo=>(0,jsx_runtime.jsx)(ChatSidebar_ChatMessage,{...messageInfo},messageInfo.id))}),(0,jsx_runtime.jsxs)(InputPanel,{children:[(0,jsx_runtime.jsx)(TextAreaInput,{ref:textAreaRef,value:currentMessage,placeholder:"채팅을 입력해주세요...",spellCheck:!1,disabled:!open,onChange:handleCurrentMessageChange,onKeyDown:handleEnterKeyDown}),(0,jsx_runtime.jsx)(common_IconBtn,{icon:(0,jsx_runtime.jsx)(svg.mY,{}),size:"small",ariaLabel:"이모지 사용하기",disabled:!open,onClick:()=>{}}),(0,jsx_runtime.jsx)(common_IconBtn,{icon:(0,jsx_runtime.jsx)(svg.m,{}),size:"small",ariaLabel:"채팅 전송하기",disabled:!open,onClick:handleSendMessage})]})]})},ChatSidebar_ChatSidebar=ChatSidebar;try{ChatSidebar.displayName="ChatSidebar",ChatSidebar.__docgenInfo={description:"",displayName:"ChatSidebar",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},top:{defaultValue:null,description:"",name:"top",required:!0,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string"}},messageInfos:{defaultValue:null,description:"",name:"messageInfos",required:!0,type:{name:"ChatMessageInfo[]"}},onSendMessage:{defaultValue:null,description:"",name:"onSendMessage",required:!0,type:{name:"(message: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatMenu/ChatSidebar/ChatSidebar.tsx#ChatSidebar"]={docgenInfo:ChatSidebar.__docgenInfo,name:"ChatSidebar",path:"src/components/ChatMenu/ChatSidebar/ChatSidebar.tsx#ChatSidebar"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/common/IconBtn/IconBtn.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>IconBtn_IconBtn}),__webpack_require__("./node_modules/react/index.js");var _templateObject,_templateObject2,_templateObject3,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");let Container=emotion_styled_browser_esm.A.button(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n	display: flex;\n	justify-content: center;\n	align-items: center;\n	width: ",";\n	height: ",";\n	background: none;\n\n	&:disabled {\n		opacity: 0.4;\n	}\n\n	&:not(:disabled):hover svg {\n		color: ",";\n	}\n"])),_ref=>{let{$size}=_ref;return"medium"===$size?"40px":"28px"},_ref2=>{let{$size}=_ref2;return"medium"===$size?"40px":"28px"},_ref3=>{let{theme}=_ref3;return theme.colors.LIGHT_GRAY}),ImageIcon=emotion_styled_browser_esm.A.img(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n	width: 40px;\n	height: 40px;\n	object-fit: contain;\n"]))),SvgIconWrapper=emotion_styled_browser_esm.A.div(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n	width: 100%;\n	height: 100%;\n\n	& > svg {\n		width: 100%;\n		height: 100%;\n		color: ",";\n		transition: color 0.2s;\n	}\n"])),_ref4=>{let{theme}=_ref4;return theme.colors.WHITE});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let IconBtn=_ref=>{let{icon,size,disabled,ariaLabel,onClick}=_ref;return(0,jsx_runtime.jsx)(Container,{type:"button",$size:size,disabled:disabled,"aria-label":ariaLabel,"aria-disabled":disabled,onClick:onClick,children:"string"==typeof icon?(0,jsx_runtime.jsx)(ImageIcon,{src:icon,alt:ariaLabel}):(0,jsx_runtime.jsx)(SvgIconWrapper,{children:icon})})},IconBtn_IconBtn=IconBtn;try{IconBtn.displayName="IconBtn",IconBtn.__docgenInfo={description:"",displayName:"IconBtn",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string | ReactElement<SVGProps<SVGSVGElement>, string | JSXElementConstructor<any>>"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/IconBtn/IconBtn.tsx#IconBtn"]={docgenInfo:IconBtn.__docgenInfo,name:"IconBtn",path:"src/components/common/IconBtn/IconBtn.tsx#IconBtn"})}catch(__react_docgen_typescript_loader_error){}}}]);